# Douban to letterboxd

# How to use?

Preparations:
- The tool is based on `douban_to_imdb` at https://github.com/fisheepx/douban-to-imdb.git
- Two Datasets are needed
  - `douban.xlsx` generated by [豆坟](https://blog.doufen.org/)
  - `reviews.csv` generated by `douban_to_csv.py` of `douban_to_imdb` repo
- The way to generate them is explained below.

First, generate `douban.xlsx` with 豆坟

Then, generate `reviews.csv` using legacy code `douban_to_csv.py`.

To do this, you need to set env:
```sh
$cd your/path/to/douban-to-imdb
$conda create --name douban python=3.8.0  #create
$conda activate douban
$pip install -r requirements.txt
```

Then, generate reviews by
```sh
python douban_to_csv.py "user_id" "yyyymmdd"
```

Failed entries, either not accessible by anonymous scrapers, or being Chinese government censored movies, are logged in `failed_entries.log`.

Now that you have both `douban.xlsx` and `reviews.csv` at hand, run the jupyter notebook. This will lead to two datasets
- `final.csv` is the letterboxd admissible import file
- `final_with_signs.csv` is exactly the same as the above one, except it attaches a tail message `\n @imported from douban.com <YYYY-MM-DD>` to your reviews. You can of course edit the text in the notebook as you would like.

Go to Lettberboxd import page at https://letterboxd.com/import/ and import your records.